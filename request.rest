### -------------------------------------------
### Posts API Tests
### -------------------------------------------

### 1. Create the first post

POST http://localhost:3000/posts
Content-Type: application/json

{
    "title": "My First Post",
    "content": "This is the content of my first post.",
    "sender": "Chen"
}

### 1.2 Create the second post

POST http://localhost:3000/posts
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2OTc3ZDAwNmEzYTc2YzQwZjU3OTdjOGIiLCJpYXQiOjE3Njk1Mzg3MTIsImV4cCI6MTc2OTU0MjMxMn0.61E5ojRgZbnHaYHWDey-yu4Hp89oQJ43AAluZ2xVA54

{
    "title": "Another Cool Post with Auth",
    "content": "wow wow wow"
}

### 2. Get All Posts

GET http://localhost:3000/posts

### 3. Get posts filtered by id

GET http://localhost:3000/posts/REPLACE_WITH_EXISTING_POST_ID

### 4. Get posts filtered by sender

GET http://localhost:3000/posts?sender=Chen

### 4.2 Get posts filtered by sender #2

GET http://localhost:3000/posts?sender=Shiry

### 5. Update post by id
## IMPORTANT: Replace the ID below with existing ID from the database

PUT http://localhost:3000/posts/REPLACE_WITH_EXISTING_POST_ID
Content-Type: application/json

{
    "title": "Updated Chen's Post Title",
    "content": "This is the updated content of the post."
}


### -------------------------------------------
### Comments API Tests
### -------------------------------------------

### 1. Create a new comment
# IMPORTANT: The 'postId' field must contain a valid ID of an existing post in your database!
POST http://localhost:3000/comments
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2OTc3ZDAwNmEzYTc2YzQwZjU3OTdjOGIiLCJpYXQiOjE3Njk1Mzg3MTIsImV4cCI6MTc2OTU0MjMxMn0.61E5ojRgZbnHaYHWDey-yu4Hp89oQJ43AAluZ2xVA54

{
    "postId": "696e96aa78512fb0a0509cd5",
    "content": "This is a great post with auth!"
}

### 1.2 Create a second new comment
# IMPORTANT: The 'postId' field must contain a valid ID of an existing post in your database!
POST http://localhost:3000/comments
Content-Type: application/json

{
    "message": "I like your post!",
    "sender": "Chen",
    "postId": "REPLACE_WITH_EXISTING_POST_ID"
}

### 2. Get all comments
GET http://localhost:3000/comments

### 3. Get comments by specific Post ID
# This verifies that we can filter comments belonging to a specific post
GET http://localhost:3000/comments?postId=REPLACE_WITH_EXISTING_POST_ID

### 4. Update a comment
# Replace 'REPLACE_WITH_COMMENT_ID' with the ID of the comment you created in step 2
PUT http://localhost:3000/comments/REPLACE_WITH_COMMENT_ID
Content-Type: application/json

{
    "message": "Updated message: This post is amazing!!!",
    "sender": "Shiry"
}

### 5. Get a specific comment by ID
GET http://localhost:3000/comments/REPLACE_WITH_COMMENT_ID

### 6. Delete a comment
DELETE http://localhost:3000/comments/REPLACE_WITH_COMMENT_ID


### -------------------------------------------
### Auth API Tests
### -------------------------------------------

### 1. User Registration
POST http://localhost:3000/auth/register
Content-Type: application/json

{
    "email": "user_test@test.com",
    "password": "123456"
}

### 2. User Login
POST http://localhost:3000/auth/login
Content-Type: application/json

{
    "email": "user_test@test.com",
    "password": "123456"
}

### 3. Fail expected -User Create Post without token
POST http://localhost:3000/posts
Content-Type: application/json

{
    "title": "Hacker Post - Unauthorized Post",
    "content": "This post should not be created."
}

### 4. Create Post with token
POST http://localhost:3000/posts
Content-Type: application/json
Authorization: Bearer <REPLACE_WITH_VALID_ACCESS_TOKEN>

{
    "title": "My Authorized Post",
    "content": "This post should be created successfully."
}

### 5. Refresh Token
POST http://localhost:3000/auth/refresh
Content-Type: application/json

{
    "refreshToken": "Replace_with_valid_refresh_token"
}

### 6. User Logout
POST http://localhost:3000/auth/logout
Content-Type: application/json

{
    "refreshToken": "Replace_with_valid_refresh_token"
}